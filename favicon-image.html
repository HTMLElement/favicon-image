<polymer-element
  name="favicon-image"
  attributes="icon suffix sizes msTileColor"
>

<template>

  <template bind if="{{msTileColor}}">
    <meta name="msapplication-TileColor" content="{{msTileColor}}">
  </template>

  <template repeat="{{size in sizes}}">

    <template repeat="{{appleTouchIconSize in appleTouchIconSizes}}">
      <template if="{{size == appleTouchIconSize}}">
        <link rel="apple-touch-icon" sizes="{{size}}x{{size}}" href="{{icon}}-{{size}}x{{size}}.{{suffix}}">
      </template>
    </template>

    <template repeat="{{iconSize in iconSizes}}">
      <template if="{{size == iconSize}}">
        <link rel="icon" type="image/{{suffix}}" sizes="{{size}}x{{size}}" href="{{icon}}-{{size}}x{{size}}.{{suffix}}">
      </template>
    </template>

    <template repeat="{{msTileSize in msTileSizes}}">
      <template if="{{size == msTileSize}}">
        <link rel="icon" type="image/{{suffix}}" sizes="{{size}}x{{size}}" href="{{icon}}-{{size}}x{{size}}.{{suffix}}">
      </template>
    </template>

  </template> 

</template>

<script>
  Polymer('favicon-image', {
    appleTouchIconSizes: [57, 114, 72, 144, 60, 120, 76, 152],
    iconSizes: [196, 160, 96, 16, 32],
    msTileColor: '#ffffff',
    msTileSizes: [144],
    suffix: 'png',
    ready: function(){
      this.sizes = eval(this.sizes) || [];
    }
  });
</script>
</polymer-element>